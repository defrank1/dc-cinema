<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DC Cinema Upcoming Movies</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2rem;
    background: #f9f9f9;
    color: #222;
  }
  h1 {
    margin-bottom: 1rem;
  }
  #events-list > div {
    background: white;
    margin-bottom: 1rem;
    padding: 1rem;
    border-radius: 6px;
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
  }
  #events-list > div span {
    display: block;
    margin-top: 0.3rem;
    color: #666;
    font-size: 0.9rem;
  }
</style>
</head>
<body>

<h1>Upcoming at Miracle Theater</h1>
<div id="events-list">Loading...</div>

<script>
  async function loadEvents() {
    const container = document.getElementById('events-list');
    try {
      const response = await fetch('https://f263e943-5f18-4a3a-ac8d-b22e018e2a10-00-375agdtikcet1.riker.replit.dev/miracle-events');
      if (!response.ok) throw new Error('Network response was not ok');

      const events = await response.json();
      container.innerHTML = '';

      if (events.length === 0) {
        container.textContent = 'No upcoming events found.';
        return;
      }

      events.forEach(event => {
        const div = document.createElement('div');
        div.textContent = event.title;

        const dateSpan = document.createElement('span');
        dateSpan.textContent = event.datetime || 'Date/time not available';

        div.appendChild(dateSpan);
        container.appendChild(div);
      });
    } catch (error) {
      container.textContent = 'Failed to load events.';
      console.error('Error loading events:', error);
    }
  }

  loadEvents();
</script>

</body>
</html>
